/* --- ЗМІННІ (PREPROCESSOR VARIABLES) --- */
$bg-color: #0f172a; // Темно-синій фон ночі
$card-width: 300px;
$card-height: 450px;
$primary-color: #c2410c; // Святковий червоний
$accent-color: #15803d; // Ялинковий зелений
$text-light: #f1f5f9; // Майже білий
$text-dark: #1e293b; // Темний для тексту
$font-title: 'Mountains of Christmas', cursive;
$font-body: 'Comfortaa', cursive;

/* --- МІКСИНИ (Для зручності) --- */
@mixin flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
}

/* --- СКИДАННЯ --- */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background-color: $bg-color;
    height: 100vh;
    @include flex-center;
    overflow: hidden;
    font-family: $font-body;
}

/* --- БЛОК SCENE (Фон і сніг) --- */
.scene {
    position: relative;
    width: 100%;
    height: 100%;
    @include flex-center;
    perspective: 1000px; // Для 3D ефекту

    &__snow {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(circle, #fff 2px, transparent 2.5px), radial-gradient(circle, #fff 2px, transparent 2.5px);
        background-size: 50px 50px, 100px 100px;
        background-position: 0 0, 50px 50px;
        opacity: 0.3;
        animation: snow-fall 10s linear infinite;
        pointer-events: none;
    }
}

/* --- БЛОК CARD (BEM: Block) --- */
.card {
    width: $card-width;
    height: $card-height;
    cursor: pointer;
    // Ховер ефект на ВЕСЬ блок .card активує трансформацію .card__inner
    &:hover .card__inner {
        transform: rotateY(180deg);
    }
    // BEM: Element (__inner)
    &__inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s;
        transform-style: preserve-3d; // Важливо для 3D
        box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    }
    // BEM: Element (__face)
    &__face {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden; /* Safari */
        backface-visibility: hidden; // Ховає зворотний бік
        border-radius: 15px;
        padding: 20px;
        @include flex-center;
        flex-direction: column;
        border: 5px solid #d4af37; // Золота рамка
        // BEM: Modifier (--front)
        &--front {
            background-color: $primary-color;
            color: $text-light;
            background-image: repeating-linear-gradient( 45deg, transparent, transparent 10px, rgba(255,255,255,0.1) 10px, rgba(255,255,255,0.1) 20px );
        }
        // BEM: Modifier (--back)
        &--back {
            background-color: #fffaf0; // Кремовий папір
            color: $text-dark;
            transform: rotateY(180deg); // Розвертаємо за замовчуванням
        }
    }
    // Елементи всередині картки
    &__title {
        font-family: $font-title;
        font-size: 3rem;
        margin-bottom: 20px;
        line-height: 1.2;
        text-shadow: 2px 2px 0px rgba(0,0,0,0.2);
    }

    &__subtitle {
        font-family: $font-title;
        font-size: 2rem;
        color: $primary-color;
        margin-bottom: 15px;
    }

    &__text {
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 20px;
    }

    &__signature {
        font-weight: bold;
        font-family: $font-title;
        font-size: 1.5rem;
        color: $accent-color;
    }

    &__hint {
        margin-top: auto;
        font-size: 0.8rem;
        opacity: 0.8;
        animation: pulse 2s infinite;
    }

    &__decoration {
        font-size: 3rem;
        margin-top: 10px;
        color: #a3e635;
    }
    // CSS Ялинка
    &__tree {
        margin: 20px 0;

        &-part {
            width: 0;
            height: 0;
            border-left: 30px solid transparent;
            border-right: 30px solid transparent;
            border-bottom: 40px solid $accent-color;
            margin: -10px auto 0; // Накладання трикутників

            &:first-child {
                margin-top: 0;
                border-bottom-color: lighten($accent-color, 10%);
            }

            &:last-child {
                border-bottom-color: darken($accent-color, 10%);
                width: 10px;
                border: none;
                height: 15px;
                background: #5d4037;
            }
            // Стовбур
        }
    }
}

/* --- АНІМАЦІЇ --- */
@keyframes snow-fall {
    0% {
        background-position: 0 0, 50px 50px;
    }

    100% {
        background-position: 0 500px, 50px 550px;
    }
}

@keyframes pulse {
    0%, 100% {
        opacity: 0.6;
        transform: scale(1);
    }

    50% {
        opacity: 1;
        transform: scale(1.1);
    }
}
